+++
title = "VIM 快速入门"
date = "2013-08-23T19:01:21+08:00"
+++
##1.VIM 是什么？
vim由unix系统中的vi编辑器扩充增强而来，且vim几乎完全兼容vi。vim可以运行在linux,mac,windows系统中。但在linux及mac系统中使用较多。利用vim可以编辑各种文档，借助于vim丰富的插件，vim可以扩展出许多功能，甚至是<!-- more -->各种语言的IDE等等
##2.为什么要用VIM 
:*Edit Text at the Speed of Thought*
##3.VIM工作模式
vim中有四种模式，分别是:*Normal Mode(普通模式）,Insert Mode（插入模式), Visual Mode（视图模式), Command-Line Mode（命令行模式）*
###a. Normal Mode
我们通过在终端中执行`vim filename`的方式打开或创建一个文件默认进入的就是此模式，在此模式下我们可以执行大多数vim命令，比如：h,j,k,l，A,i,H,等等。
###b. Insert Mode
在Normal Mode下我们是不能输入内容的，如果要编辑文档我们需要进入Insert Mode,按`i`即可进入，进入Insert Mode 后我们可以在窗口左下角看到 --INSERT--提示。这时我们就可以随意编辑文档了。
###c. Normal 与Insert相互切换
在normal mode下一般可以通过`i`进入insert mode,当我们需要执行某些normal mode下的命令时，可以通过`Esc`键返回到normal mode.所以vim用户经常按Esc键是一个很常见的动作，而且在normal mode下按Esc键不会产生任何效果，所以当你不确定当前模式的时候可以多按几次Esc键就一定可以回到normal mode下，然后再根据需要执行后续的其它操作。
这里建议大家记英文，因为不同的人对这几个模式的翻译不同，可能会造成误解。比如我就曾见过把Normal Mode翻译为命令模式的，当然这样翻译也是有道理的，因为大部分命令都是在这个模式下运行的.这里模式有四个,但我们大多情况下都是在Normal与Insert模式下工作的。这里先介绍这两个模式。
##4.VIM常用命令入门
(无特殊说明所有指令均是指normal mode下的指令)
###A. 光标移动指令
 - **h(左),j(下),k(上),l(右)**
 - **G** 将光标移动到最后一行的行首的第一个非空白字符处
 - **gg** 作用与`G`相反，将光标移动到行首第一个非空白字符处
 - **H** 将光标移动到编辑窗口顶部第一行行首位置。注意与gg的区别
 - **L** 将光标移动到编辑窗口底部最后一行的行首位置。
 - **$** 将光标移动到行尾
 - **0** 将光标移动到行首
 - **ngg或nG** 将光标移动到n所代表的行首处 (其中n代表行号)
 <br/>
 (其实，我们完全可以通过上下左右键来移动光标，但是如果你熟悉了上面这些指令，将会让你的操作更加高效)
 
###B. 插入指令
 - **i** 在光标所覆盖字符的前面插入
 - **I** 在行首第一个非空白字符前插入
 - **o** 在光标所在行下面一行插入
 - **O** 在光标所在行上面一行插入<br/>
 (执行以上指令后vim将自动由normal mode切换到insert mode)
 
###C. 保存指令
 - **:w** 将当前vim编辑窗口中的内容保存到本地磁盘中.因为vim不会自动保存，为了防止数据的丢失我们可以在每编辑一段时间后就执行一下此命令将当前的内容保存到磁盘中，以防止意外断电等原因造成的数据丢失。
 - **:q** 直接退出vim。有时候我们可能只是用vim来查看一下文件的内容，并不需要做修改，当我们查看完后，可以执行此命令直接退出.
 - **:wq** 保存并退出vim。此命令主要用在当我们完成编辑任务后可直接执行此命令，完成保存并退出的动作。
 - **:q!** 强制退出vim。当你通过vim查看某个文件并不小心作个修改后，可通过此命令直接退出,此命令将不保存修改。<br/>

###D. 删除指令
 - **x** 删除光标所覆盖的字符
 - **[n]dd** 删除光标所在的一整行或者从当前行开始的n行
 - **d$** 删除从光标所在位置向后的一整行
 - **d[n]G** 删除从第n行开始，直到当前行的所有文本.若不指定n则删除从当前行开始到文件最后一行的所有文本 
 - **dw** 删除一个字。注意：此命令对于英文删除的是一个单词，但对于汉语删除的是连续的一段汉字直到标点或英文字符为止。
 - **de** 此命令与`dw`相似，但不包含字与字之间的空格。<br/>
 当然我们完全可以通过`Baskspace`或`del`来达到删除的目的，但作为一个高效的编辑器vim提供的有更高效的命令.其实，在以上删除指令前面我们可以跟上一个数字，代表此删除操作执行的次数。比如，如果我们想连续删除两个字符可以这样`2x`
 
###E. 撤销指令
 - **u** 对应windows中的`Ctrl-Z`,即撤消上一次的操作，可通过连续执行撤消多次
 - **U** 撤消最近一次对某行的所有操作。此命令的动作只能局限在最近一次发生修改的某行内
 - **Ctrl-R** 相当于windows中的`Ctrl-Y`,即撤消撤消操作，也可连续执行以达到多次undo the undos的效果<br/>

###F. 复制粘贴指令
 - **p** 相当于windows中的Ctrl-V。但这个指令执行的前题是要先选定需要复制的文字。这就要用到下面这个指令`v`.
 - **v** 进入视图模式。然后可以通过hjkl移动光标来选定文字。因为只有在这个模式下，才可以通过指令选定文字(当然你也可以通过鼠标选定文字)
 - **y** 复制。将选定的文字，复制到粘帖板。
 
 综上，要完成在windows下Ctrl-C,Ctrl-V的效果，大致需要按照下面这样的步骤: 

>1. 按`v`进入visual mode.
 2. 通过hjkl移动光标选定需要复制的文本.
 3. 按`y`将选定内容复制到粘贴板.
 4. 移动光标到合适位置。
>5. 按`p`执行粘贴操作。

###G. 查找指令
 - **/** 正向查找。 在normal mode下按`/`键，然后再输入需要查寻的字符串，按`Enter`键即可进行搜索。
 - **n** 若想查看下一个，只需在上一个命令的基础上按`n`即可查看下一个匹配的字符串。
 - **N** 与`n`作用相反。查找上一个匹配的字符串。
 
###H. 替换指令
 - **:s/old/new** 在光标所在行中查找old并用new来替换查找到的第一个old.
 - **:s/old/new/g** 在光标所在行中查找old并用new替换此行中所有的old.
 - **:#,#s/old/new/g** 在#与#所表示的行的范围内查找old，并用new全部替换之.
 - **:%s/old/new/g** 在整个文件中查找old并用new替换.
 - **:%s/old/new/gc** 在整个文件中依次查找old并给用户提示是否替换当前old。过程类似于：find next,replace?.如果确定就替换，并跳到下一个；如果n就直接跳到下一个，重复以上过程。
 
###I. 翻页指令
 - **Ctrl-F** 向下滚动一屏
 - **Ctrl-B** 向上滚动一屏
 - **Ctrl-D** 向下流动半屏
 - **Ctrl-U** 向上滚动半屏
 
###J. 其它常用指令
 - **C** 替换当前行光标之后的所有数据
 - **[n]cc** 替换当前文本行或从当前文本行开始的n行数据
 - **[n]yy** 复制当前文本行或从当前文本行开始的n行数据
 - **r Enter** 换行
 - **:set nu** 显示行号
 - **:set nonu** 取消显示行号
 - **:!** 执行外部命令,例如`:!ls`显示目录
 - **:n1,n2 m n3** 将从n1行开始到n2行的内容移动到n3行之后。
 - **:n1,n2 co n3** 将从n1行开始到n2行的内容复制到n3行之后。
##5.总结
个人觉得掌握好上面这些命令，VIM入门应该是没问题了。但要是想真正能享受到VIM编辑的高效性，除了对基本命令非常熟悉外，`盲打`是最低的要求了。否则，还不如用windows下面那些可视化的编辑器来的快。
